{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/kair/Desktop/Diploma-YerKair/Student-Thesis-Platform/src/features/auth/lib/use-auth.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { User } from \"@/entities/user/model/types\";\nimport {\n  LoginCredentials,\n  RegisterCredentials,\n  AuthState,\n} from \"../model/types\";\n\n// Базовый URL API\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8000\";\n\n// API сервис аутентификации\nclass AuthService {\n  static async login(\n    credentials: LoginCredentials\n  ): Promise<{ user: User; token: string; refreshToken: string }> {\n    try {\n      console.log(\"Trying to login with credentials:\", credentials.email);\n\n      // Создаем FormData для OAuth2 password flow\n      const formData = new URLSearchParams();\n      formData.append(\"username\", credentials.email);\n      formData.append(\"password\", credentials.password);\n\n      const response = await fetch(`${API_BASE_URL}/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: formData.toString(),\n      });\n\n      if (!response.ok) {\n        let errorText = await response.text();\n        console.error(\n          \"Login error response:\",\n          errorText,\n          \"Status:\",\n          response.status\n        );\n        try {\n          const errorJson = JSON.parse(errorText);\n          throw new Error(errorJson.detail || \"Ошибка при входе\");\n        } catch (parseError) {\n          throw new Error(errorText || `Ошибка сервера: ${response.status}`);\n        }\n      }\n\n      const data = await response.json();\n      console.log(\"Login successful, received data:\", data);\n\n      // Получаем информацию о пользователе\n      const userResponse = await fetch(`${API_BASE_URL}/me`, {\n        headers: {\n          Authorization: `Bearer ${data.access_token}`,\n        },\n      });\n\n      if (!userResponse.ok) {\n        throw new Error(\"Failed to fetch user profile\");\n      }\n\n      const userData = await userResponse.json();\n      console.log(\"User data:\", userData);\n\n      // Получаем полный профиль пользователя\n      const profileResponse = await fetch(\n        `${API_BASE_URL}/users/get-user-by-email?email=${userData.message.username}`,\n        {\n          headers: {\n            Authorization: `Bearer ${data.access_token}`,\n          },\n        }\n      );\n\n      if (!profileResponse.ok) {\n        throw new Error(\"Failed to fetch user profile\");\n      }\n\n      const profileData = await profileResponse.json();\n      console.log(\"Profile data:\", profileData);\n\n      // Формируем профиль пользователя\n      const userProfile = {\n        id: profileData.id?.toString() || \"1\",\n        name: profileData.fullname || credentials.email.split(\"@\")[0],\n        email: profileData.email || credentials.email,\n        role: profileData.roles?.[0] || \"student\",\n        isActive: true,\n        createdAt: profileData.created_at || new Date().toISOString(),\n      };\n\n      // Сохраняем токены в localStorage\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"authToken\", data.access_token);\n        localStorage.setItem(\"user\", JSON.stringify(userProfile));\n      }\n\n      return {\n        user: userProfile,\n        token: data.access_token,\n        refreshToken: \"\",\n      };\n    } catch (error) {\n      console.error(\"Login error:\", error);\n      throw error;\n    }\n  }\n\n  static async register(\n    credentials: RegisterCredentials\n  ): Promise<{ user: User; token: string; refreshToken: string }> {\n    try {\n      console.log(\"Attempting registration for:\", credentials.email);\n\n      const registerData = {\n        email: credentials.email,\n        password: credentials.password,\n        fullname: credentials.name,\n      };\n\n      const registerResponse = await fetch(`${API_BASE_URL}/register`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(registerData),\n      });\n\n      if (!registerResponse.ok) {\n        let errorText = await registerResponse.text();\n        console.error(\"Registration error response:\", errorText);\n        try {\n          const errorJson = JSON.parse(errorText);\n          throw new Error(errorJson.detail || \"Ошибка при регистрации\");\n        } catch (parseError) {\n          throw new Error(\n            errorText || `Ошибка сервера: ${registerResponse.status}`\n          );\n        }\n      }\n\n      // После успешной регистрации выполняем вход\n      return await AuthService.login({\n        email: credentials.email,\n        password: credentials.password,\n      });\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      throw error;\n    }\n  }\n\n  static logout(): void {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem(\"authToken\");\n      localStorage.removeItem(\"refreshToken\");\n      localStorage.removeItem(\"user\");\n    }\n  }\n\n  static isAuthenticated(): boolean {\n    if (typeof window === \"undefined\") return false;\n    return !!localStorage.getItem(\"authToken\");\n  }\n\n  static getUser(): User | null {\n    if (typeof window === \"undefined\") return null;\n    const userJson = localStorage.getItem(\"user\");\n    if (!userJson) return null;\n\n    try {\n      return JSON.parse(userJson) as User;\n    } catch (e) {\n      console.error(\"Failed to parse user data\", e);\n      return null;\n    }\n  }\n\n  static getToken(): string | null {\n    if (typeof window === \"undefined\") return null;\n    return localStorage.getItem(\"authToken\");\n  }\n}\n\nexport function useAuth() {\n  const router = useRouter();\n  const [authState, setAuthState] = useState<AuthState>({\n    user: AuthService.getUser(),\n    token: AuthService.getToken(),\n    isAuthenticated: AuthService.isAuthenticated(),\n    isLoading: false,\n    error: null,\n  });\n\n  const updateAuthState = useCallback(\n    (newState: Partial<AuthState>, redirectTo?: string) => {\n      setAuthState((prev) => ({ ...prev, ...newState }));\n      if (redirectTo) {\n        router.push(redirectTo);\n      }\n    },\n    [router]\n  );\n\n  const login = useCallback(\n    async (credentials: LoginCredentials) => {\n      try {\n        updateAuthState({ isLoading: true, error: null });\n        const result = await AuthService.login(credentials);\n\n        updateAuthState(\n          {\n            user: result.user,\n            token: result.token,\n            isAuthenticated: true,\n            isLoading: false,\n            error: null,\n          },\n          \"/dashboard\"\n        );\n\n        return result;\n      } catch (error) {\n        console.error(\"Login error in hook:\", error);\n        updateAuthState({\n          error: error instanceof Error ? error.message : \"Ошибка при входе\",\n          isLoading: false,\n        });\n        throw error;\n      }\n    },\n    [updateAuthState]\n  );\n\n  const register = useCallback(\n    async (credentials: RegisterCredentials) => {\n      try {\n        updateAuthState({ isLoading: true, error: null });\n        const result = await AuthService.register(credentials);\n\n        updateAuthState(\n          {\n            user: result.user,\n            token: result.token,\n            isLoading: false,\n            isAuthenticated: true,\n            error: null,\n          },\n          \"/dashboard\"\n        );\n\n        return result;\n      } catch (error) {\n        updateAuthState({\n          isLoading: false,\n          error:\n            error instanceof Error ? error.message : \"Ошибка при регистрации\",\n        });\n        throw error;\n      }\n    },\n    [updateAuthState]\n  );\n\n  const logout = useCallback(() => {\n    AuthService.logout();\n    updateAuthState(\n      {\n        user: null,\n        token: null,\n        isLoading: false,\n        isAuthenticated: false,\n        error: null,\n      },\n      \"/auth/login\"\n    );\n  }, [updateAuthState]);\n\n  return {\n    ...authState,\n    login,\n    register,\n    logout,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///Users/kair/Desktop/Diploma-YerKair/Student-Thesis-Platform/src/app/providers/auth-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, ReactNode, useContext } from \"react\";\nimport { useAuth } from \"@/features/auth/lib/use-auth\";\nimport { AuthState } from \"@/features/auth/model/types\";\nimport {\n  LoginFormValues,\n  RegisterFormValues,\n} from \"@/features/auth/model/schema\";\nimport { User } from \"@/entities/user/model/types\";\n\ninterface AuthContextType extends AuthState {\n  login: (\n    data: LoginFormValues\n  ) => Promise<{ user: User; token: string; refreshToken: string }>;\n  register: (\n    data: RegisterFormValues\n  ) => Promise<{ user: User; token: string; refreshToken: string }>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const auth = useAuth();\n\n  return <AuthContext.Provider value={auth}>{children}</AuthContext.Provider>;\n}\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuthContext must be used within an AuthProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAqBA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;IAChE,MAAM,OAAO,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD;IAEnB,qBAAO,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAAO;;;;;;AAC7C;AAEO,MAAM,iBAAiB;IAC5B,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///Users/kair/Desktop/Diploma-YerKair/Student-Thesis-Platform/src/shared/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n/**\n * Utility function to conditionally join class names together\n * and merge Tailwind CSS classes properly\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Breakpoint size constants that match the Tailwind config\n */\nexport const breakpoints = {\n  xxs: 360,\n  xs: 480,\n  sm: 640,\n  md: 768,\n  sdl: 800,\n  lg: 1024,\n  xl: 1280,\n  \"2xl\": 1536,\n} as const;\n\nexport type Breakpoint = keyof typeof breakpoints;\n\n/**\n * Utility function to create responsive classes with a mobile-first approach\n * @param base Base class applied for all screen sizes\n * @param responsive Object mapping breakpoints to classes\n */\nexport function responsive(\n  base: string,\n  responsive: Partial<Record<Breakpoint, string>>\n) {\n  const classes = [base];\n\n  for (const [breakpoint, value] of Object.entries(responsive) as [\n    Breakpoint,\n    string\n  ][]) {\n    classes.push(`${breakpoint}:${value}`);\n  }\n\n  return classes.join(\" \");\n}\n\n/**\n * Проверка, является ли устройство маленьким экраном\n * @returns Возвращает true, если ширина экрана меньше 800px\n */\nexport function isSmallDevice(): boolean {\n  if (typeof window === \"undefined\") return false;\n  return window.innerWidth < breakpoints.sdl;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAMO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,2JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAKO,MAAM,cAAc;IACzB,KAAK;IACL,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,KAAK;IACL,IAAI;IACJ,IAAI;IACJ,OAAO;AACT;AASO,SAAS,WACd,IAAY,EACZ,UAA+C;IAE/C,MAAM,UAAU;QAAC;KAAK;IAEtB,KAAK,MAAM,CAAC,YAAY,MAAM,IAAI,OAAO,OAAO,CAAC,YAG5C;QACH,QAAQ,IAAI,CAAC,GAAG,WAAW,CAAC,EAAE,OAAO;IACvC;IAEA,OAAO,QAAQ,IAAI,CAAC;AACtB;AAMO,SAAS;IACd,wCAAmC,OAAO;;AAE5C","debugId":null}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///Users/kair/Desktop/Diploma-YerKair/Student-Thesis-Platform/src/shared/ui/feedback/MobileScreenWarning.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/shared/lib/utils\";\nimport { ReactNode, useState, useEffect } from \"react\";\nimport { X } from \"lucide-react\";\nimport { usePathname } from \"next/navigation\";\n\nexport interface MobileScreenWarningProps {\n  children?: ReactNode;\n  className?: string;\n  maxWidth?: number;\n  message?: string;\n  dismissible?: boolean;\n  persistent?: boolean;\n}\n\n/**\n * Компонент, который показывает предупреждение на очень узких экранах,\n * предлагая пользователю повернуть устройство или растянуть окно браузера\n */\nexport function MobileScreenWarning({\n  children,\n  className,\n  maxWidth = 360,\n  message = \"Для лучшего отображения поверните устройство или увеличьте размер окна\",\n  dismissible = true,\n  persistent = false,\n}: MobileScreenWarningProps) {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isDismissed, setIsDismissed] = useState(false);\n  const storageKey = \"mobile-warning-dismissed\";\n  const pathname = usePathname();\n\n  // Определяем пути для которых нужно особое предупреждение\n  const isNonAdaptivePath =\n    pathname &&\n    (pathname.includes(\"/dashboard/teams\") ||\n      pathname.includes(\"/dashboard/thesis\"));\n\n  // Проверяем, принадлежит ли путь к дашборду\n  const isDashboardPath = pathname && pathname.startsWith(\"/dashboard\");\n\n  // Не показываем предупреждение для страниц дашборда, кроме страниц команды и дипломной работы\n  const shouldShowWarning = !isDashboardPath || isNonAdaptivePath;\n\n  useEffect(() => {\n    // Проверяем, было ли предупреждение закрыто ранее\n    if (!persistent && localStorage.getItem(storageKey) === \"true\") {\n      setIsDismissed(true);\n    }\n\n    const checkWidth = () => {\n      // Используем разные пороги для разных страниц\n      const thresholdWidth = isNonAdaptivePath ? 800 : maxWidth;\n\n      if (\n        window.innerWidth <= thresholdWidth &&\n        !isDismissed &&\n        shouldShowWarning\n      ) {\n        setIsVisible(true);\n      } else {\n        setIsVisible(false);\n      }\n    };\n\n    // Проверяем ширину при монтировании\n    checkWidth();\n\n    // Добавляем слушатель изменения размера окна\n    window.addEventListener(\"resize\", checkWidth);\n\n    return () => {\n      window.removeEventListener(\"resize\", checkWidth);\n    };\n  }, [maxWidth, isDismissed, persistent, isNonAdaptivePath, shouldShowWarning]);\n\n  const handleDismiss = () => {\n    setIsDismissed(true);\n    setIsVisible(false);\n\n    // Если предупреждение не должно показываться снова, сохраняем это в localStorage\n    if (!persistent) {\n      localStorage.setItem(storageKey, \"true\");\n    }\n  };\n\n  if (!isVisible) {\n    return null;\n  }\n\n  // Разные сообщения для разных страниц\n  const displayMessage = isNonAdaptivePath\n    ? \"Эта страница не полностью адаптирована для экранов меньше 800px. Для лучшего отображения используйте устройство с большим экраном.\"\n    : message;\n\n  return (\n    <div\n      className={cn(\n        \"fixed bottom-0 left-0 right-0 z-50 p-3 bg-warning text-warning-foreground text-sm text-center shadow-md\",\n        \"safe-area-bottom\",\n        className\n      )}\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex-1\">{displayMessage}</div>\n        {dismissible && (\n          <button\n            onClick={handleDismiss}\n            className=\"ml-2 p-1 rounded-full hover:bg-warning-foreground/10\"\n            aria-label=\"Закрыть предупреждение\"\n          >\n            <X size={16} />\n          </button>\n        )}\n      </div>\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAoBO,SAAS,oBAAoB,EAClC,QAAQ,EACR,SAAS,EACT,WAAW,GAAG,EACd,UAAU,wEAAwE,EAClF,cAAc,IAAI,EAClB,aAAa,KAAK,EACO;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,aAAa;IACnB,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAE3B,0DAA0D;IAC1D,MAAM,oBACJ,YACA,CAAC,SAAS,QAAQ,CAAC,uBACjB,SAAS,QAAQ,CAAC,oBAAoB;IAE1C,4CAA4C;IAC5C,MAAM,kBAAkB,YAAY,SAAS,UAAU,CAAC;IAExD,8FAA8F;IAC9F,MAAM,oBAAoB,CAAC,mBAAmB;IAE9C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,kDAAkD;QAClD,IAAI,CAAC,cAAc,aAAa,OAAO,CAAC,gBAAgB,QAAQ;YAC9D,eAAe;QACjB;QAEA,MAAM,aAAa;YACjB,8CAA8C;YAC9C,MAAM,iBAAiB,oBAAoB,MAAM;YAEjD,IACE,OAAO,UAAU,IAAI,kBACrB,CAAC,eACD,mBACA;gBACA,aAAa;YACf,OAAO;gBACL,aAAa;YACf;QACF;QAEA,oCAAoC;QACpC;QAEA,6CAA6C;QAC7C,OAAO,gBAAgB,CAAC,UAAU;QAElC,OAAO;YACL,OAAO,mBAAmB,CAAC,UAAU;QACvC;IACF,GAAG;QAAC;QAAU;QAAa;QAAY;QAAmB;KAAkB;IAE5E,MAAM,gBAAgB;QACpB,eAAe;QACf,aAAa;QAEb,iFAAiF;QACjF,IAAI,CAAC,YAAY;YACf,aAAa,OAAO,CAAC,YAAY;QACnC;IACF;IAEA,IAAI,CAAC,WAAW;QACd,OAAO;IACT;IAEA,sCAAsC;IACtC,MAAM,iBAAiB,oBACnB,uIACA;IAEJ,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,6HAAA,CAAA,KAAE,AAAD,EACV,2GACA,oBACA;;0BAGF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAU;;;;;;oBACxB,6BACC,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,8OAAC,4LAAA,CAAA,IAAC;4BAAC,MAAM;;;;;;;;;;;;;;;;;YAId;;;;;;;AAGP","debugId":null}}]
}